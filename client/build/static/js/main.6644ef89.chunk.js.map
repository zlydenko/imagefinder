{"version":3,"sources":["components/Error.js","components/Navbar.js","components/Search.js","components/ImageGrid.js","components/Pagination.js","components/History.js","App.js","components/Login.js","NotAuthed.js","Main.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","error","backgroundColor","palette","dark","icon","fontSize","iconVariant","opacity","marginRight","spacing","message","display","alignItems","Error","props","classes","react_default","a","createElement","Snackbar","autoHideDuration","open","errorVisible","anchorOrigin","vertical","horizontal","SnackbarContent","className","aria-describedby","id","Error_default","clsx","action","IconButton","key","aria-label","color","onClick","closeError","Close_default","root","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","concat","marginLeft","easeOut","enteringScreen","menuButton","hide","drawer","flexShrink","drawerPaper","drawerHeader","Object","objectSpread","padding","mixins","toolbar","justifyContent","content","flexGrow","contentShift","Navbar","useTheme","_React$useState","React","useState","_React$useState2","slicedToArray","setOpen","CssBaseline","AppBar","position","defineProperty","Toolbar","edge","Menu_default","Typography","variant","noWrap","activePageTitle","Drawer","anchor","paper","direction","ChevronLeft_default","ChevronRight_default","Divider","ListItem","ListItemIcon","Icon","ListItemText","primary","username","List","map","text","index","button","currentPage","goToHistory","goToMain","disabled","toLowerCase","Home_default","History_default","logOutFn","children","textField","dense","marginTop","margin","Search","value","setSearchValue","search","searchFn","TextField","label","fullWidth","onChange","event","target","onKeyDownCapture","e","InputProps","startAdornment","InputAdornment","Search_default","endAdornment","Button","flexWrap","background","titleBar","ImageGrid","GridList","cellHeight","gridList","cols","images","tile","GridListTile","url","src","fixed_width","alt","title","GridListTileBar","actionIcon","imageUrl","prevState","liked","likeFn","refetchFn","StarRate_default","StarBorder_default","Pagination","activeStep","setActiveStep","maxSteps","pagesCounter","MobileStepper","steps","nextButton","size","prevActiveStep","goto","KeyboardArrowRight_default","backButton","KeyboardArrowLeft_default","HistoryList","loading","CircularProgress","history","_ref","ListItemSecondaryAction","deleteHistory","Delete_default","REACT_APP_API_ROOT","process","App","searchValue","_React$useState3","_React$useState4","searchResults","setSearchResults","_React$useState5","_React$useState6","imagesFound","setTotalCount","_React$useState7","_React$useState8","toggleLoading","_React$useState9","_React$useState10","currentView","setCurrentView","_React$useState11","_React$useState12","setHistory","_React$useState13","_React$useState14","historyLoading","toggleHistoryLoading","pageNumber","arguments","length","undefined","isInitial","request","input","page","Axios","post","then","_ref$data","data","total","finally","fetchHistory","get","params","_ref2","console","log","catch","err","authenticated","Fragment","Search_Search","state","historyId","delete","_ref3","Math","ceil","marginBottom","heading","Login","login","password","values","setValues","handleChange","name","register","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","registerFn","sent","stop","apply","this","Container","maxWidth","style","Card","gutterBottom","type","logInFn","NotAuthed","Main","auth","user","errorMessage","checkToken","token","userLogin","_this","setState","abrupt","saveToken","localStorage","setItem","JSON","stringify","deleteToken","removeItem","logIn","_callee2","_ref4","_context2","t0","logOut","_callee3","_ref6","_context3","sessionJSON","getItem","parse","authStatus","_this$state","Error_Error","Component","Boolean","window","location","hostname","match","ReactDOM","render","Main_Main","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6644ef89.chunk.js","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles(theme => ({\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\nexport default function Error(props) {\n  const classes = useStyles();\n\n  return (\n    <Snackbar autoHideDuration={800} open={props.errorVisible} anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}>\n      <SnackbarContent\n        className={classes.error}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <ErrorIcon className={clsx(classes.icon, classes.iconVariant)} />\n            {props.message}\n          </span>\n        }\n        action={[\n          <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={props.closeError}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        ]}\n      />\n    </Snackbar>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Icon from '@material-ui/core/Icon';\nimport HomeIcon from '@material-ui/icons/Home';\nimport HistoryIcon from '@material-ui/icons/History';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }\n}));\n\nexport default function Navbar(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n\n  function handleDrawerOpen() {\n    setOpen(true);\n  }\n\n  function handleDrawerClose() {\n    setOpen(false);\n  }\n\n  function logout() {\n    props.logOutFn();\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open\n        })}\n      >\n        <Toolbar>\n          <IconButton color=\"inherit\" aria-label=\"Open drawer\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            {props.activePageTitle}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>{theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}</IconButton>\n        </div>\n        <Divider />\n        <ListItem>\n          <ListItemIcon>\n            <Icon>people</Icon>\n          </ListItemIcon>\n          <ListItemText primary={props.username} />\n        </ListItem>\n        <Divider />\n        <List>\n          {['Home', 'History'].map((text, index) => (\n            <ListItem button key={text} onClick={props.currentPage === 'home' ? props.goToHistory : props.goToMain} disabled={props.currentPage === text.toLowerCase()}>\n              <ListItemIcon>{index % 2 === 0 ? <HomeIcon /> : <HistoryIcon />}</ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n        <ListItem button onClick={logout}>\n          <ListItemIcon>\n            <Icon>exit_to_app</Icon>\n          </ListItemIcon>\n          <ListItemText primary=\"logout\" />\n        </ListItem>\n      </Drawer>\n      <main\n        className={clsx(classes.content, {\n          [classes.contentShift]: open\n        })}\n      >\n        <div className={classes.drawerHeader} />\n        {props.children}\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  dense: {\n    marginTop: 19\n  },\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\n\nexport default function Search(props) {\n  const classes = useStyles();\n  const [value, setSearchValue] = React.useState(props.value);\n\n  const search = () => {\n    props.searchFn(value);\n  };\n\n  const handleChange = event => {\n    setSearchValue(event.target.value);\n  };\n\n  const keyCapture = e => {\n    if (e.key === 'Enter') search();\n  };\n\n  return (\n    <TextField\n      label=\"Search\"\n      fullWidth\n      variant=\"outlined\"\n      className={classes.textField}\n      value={value}\n      onChange={handleChange}\n      onKeyDownCapture={keyCapture}\n      margin=\"normal\"\n      InputProps={{\n        startAdornment: (\n          <InputAdornment position=\"start\">\n            <SearchIcon />\n          </InputAdornment>\n        ),\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={search}>\n              Go\n              <Icon>send</Icon>\n            </Button>\n          </InputAdornment>\n        )\n      }}\n    />\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport StarRateIcon from '@material-ui/icons/StarRate';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginRight: '8px',\n    marginLeft: '8px',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    backgroundColor: theme.palette.background.paper\n  },\n  titleBar: {\n    background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)'\n  },\n  icon: {\n    color: 'red'\n  }\n}));\n\nexport default function ImageGrid(props) {\n  const classes = useStyles();\n\n  const likeImage = (imageUrl, prevState) => {\n    props.likeFn(imageUrl, !prevState);\n    props.refetchFn();\n  };\n\n  return (\n    <div className={classes.root}>\n      <GridList cellHeight={200} className={classes.gridList} cols={3}>\n        {props.images.map(tile => (\n          <GridListTile key={tile.url} cols={tile.cols || 1}>\n            <img src={tile.images.fixed_width.url} alt={tile.title} />\n            <GridListTileBar\n              classes={{\n                root: classes.titleBar,\n                title: classes.title\n              }}\n              actionIcon={\n                <IconButton aria-label={`star ${tile.title}`} onClick={() => likeImage(tile.url, tile.liked)}>\n                  {tile.liked ? <StarRateIcon className={classes.icon} /> : <StarBorderIcon className={classes.icon} />}\n                </IconButton>\n              }\n            />\n            )\n          </GridListTile>\n        ))}\n      </GridList>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport Button from \"@material-ui/core/Button\";\n\nexport default function Pagination(props) {\n  const [activeStep, setActiveStep] = React.useState(0);\n  const maxSteps = props.pagesCounter;\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n    props.goto(activeStep);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n    props.goto(activeStep);\n  };\n\n  return (\n    <MobileStepper\n      steps={maxSteps}\n      position=\"static\"\n      variant=\"text\"\n      activeStep={activeStep}\n      nextButton={\n        <Button\n          size=\"small\"\n          onClick={handleNext}\n          disabled={activeStep === maxSteps - 1}\n        >\n          Next\n          <KeyboardArrowRight />\n        </Button>\n      }\n      backButton={\n        <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0}>\n          <KeyboardArrowLeft />\n          Back\n        </Button>\n      }\n    />\n  );\n}\n","import React from 'react';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nexport default function HistoryList(props) {\n  return props.loading ? (\n    <CircularProgress />\n  ) : (\n    <List dense>\n      {props.history.map(({ id, text }) => (\n        <ListItem button key={id} onClick={() => props.goToHistory(text)}>\n          <ListItemText primary={text} />\n          <ListItemSecondaryAction>\n            <IconButton aria-label=\"Delete\" onClick={() => props.deleteHistory(id)}>\n              <DeleteIcon />\n            </IconButton>\n          </ListItemSecondaryAction>\n        </ListItem>\n      ))}\n    </List>\n  );\n}\n","import React from 'react';\nimport Navbar from './components/Navbar';\nimport Search from './components/Search';\nimport ImageGrid from './components/ImageGrid';\nimport Pagination from './components/Pagination';\nimport History from './components/History';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Axios from 'axios';\n\nconst { REACT_APP_API_ROOT } = process.env;\n\nexport default function App(props) {\n  const [searchValue, setSearchValue] = React.useState('');\n  const [searchResults, setSearchResults] = React.useState([]);\n  const [imagesFound, setTotalCount] = React.useState(null);\n  const [loading, toggleLoading] = React.useState(false);\n  const [currentView, setCurrentView] = React.useState('main');\n  const [history, setHistory] = React.useState([]);\n  const [historyLoading, toggleHistoryLoading] = React.useState(false);\n\n  const search = (value, pageNumber = null, isInitial = true) => {\n    if (isInitial) toggleLoading(true);\n    let request = {\n      username: props.username,\n      input: value\n    };\n\n    if (pageNumber) request.page = pageNumber;\n\n    setSearchValue(value);\n\n    Axios.post(`${REACT_APP_API_ROOT}/search`, request)\n      .then(({ data: { data, total } }) => {\n        if (data.length === 0) setTotalCount(null);\n        setSearchResults(data);\n        setTotalCount(total);\n      })\n      .finally(() => {\n        if (isInitial) toggleLoading(false);\n      });\n  };\n\n  const likeImage = (imageUrl, state) => {\n    Axios.post(`${REACT_APP_API_ROOT}/like`, {\n      username: props.username,\n      imageUrl,\n      state\n    });\n  };\n\n  const goToPage = pageNumber => {\n    search(searchValue, pageNumber + 2);\n  };\n\n  const goToHistory = () => {\n    setSearchValue('');\n    setTotalCount(null);\n    setSearchResults([]);\n    fetchHistory();\n    setCurrentView('history');\n  };\n\n  const goToMain = () => {\n    setCurrentView('main');\n  };\n\n  const fetchHistory = () => {\n    toggleHistoryLoading(true);\n\n    Axios.get(`${REACT_APP_API_ROOT}/history`, {\n      params: {\n        username: props.username\n      }\n    })\n      .then(({ data }) => {\n        if (data.message) {\n          throw data.message;\n        }\n        console.log(data);\n        setHistory(data);\n      })\n      .catch(err => console.log(err))\n      .finally(() => {\n        toggleHistoryLoading(false);\n      });\n  };\n\n  const goToHistoryElement = text => {\n    setCurrentView('main');\n    setSearchValue(text);\n    search(text);\n  };\n\n  const deleteHistory = historyId => {\n    Axios.delete(`${REACT_APP_API_ROOT}/history`, {\n      data: {\n        username: props.username,\n        id: historyId\n      }\n    })\n      .then(({ data }) => {\n        if (data.message !== 'OK') throw data.message;\n      })\n      .catch(e => {\n        console.log(e);\n      })\n      .finally(() => {\n        fetchHistory();\n      });\n  };\n\n  return (\n    <div>\n      <Navbar\n        currentPage={currentView === 'main' ? 'home' : 'history'}\n        activePageTitle={currentView === 'main' ? 'Image finder' : 'Image finder / History'}\n        goToMain={goToMain}\n        goToHistory={goToHistory}\n        logOutFn={props.logOutFn}\n        authenticated={true}\n        username={props.username}\n      >\n        {currentView === 'main' ? (\n          <React.Fragment>\n            <Search searchFn={search} value={searchValue} />\n            {loading ? <CircularProgress /> : !!imagesFound && <ImageGrid images={searchResults} likeFn={likeImage} refetchFn={() => search(searchValue, undefined, false)} />}\n          </React.Fragment>\n        ) : (\n          <History deleteHistory={deleteHistory} goToHistory={goToHistoryElement} history={history} loading={historyLoading} />\n        )}\n      </Navbar>\n      {!!imagesFound && currentView === 'main' && <Pagination pagesCounter={Math.ceil(imagesFound / 24)} goto={goToPage} />}\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n  input: {\n    marginBottom: '1em'\n  },\n  heading: {\n    marginBottom: '2em'\n  }\n}));\n\nexport default function Login(props) {\n  const classes = useStyles();\n  const [currentView, setCurrentView] = React.useState('login');\n  const [values, setValues] = React.useState({\n    login: '',\n    password: ''\n  });\n\n  const handleChange = name => e => {\n    setValues({ ...values, [name]: e.target.value });\n  };\n\n  const login = () => {\n    const { login, password } = values;\n    console.log('login', login, password);\n    console.log(props.logInFn);\n    props.logInFn(login, password);\n  };\n\n  const register = async () => {\n    const { login, password } = values;\n    const result = await props.registerFn(login, password);\n\n    if (result) {\n      setValues({\n        login: '',\n        password: ''\n      });\n      setCurrentView('login');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" style={{ marginTop: '8em' }}>\n      <Card style={{ padding: '2em' }}>\n        <Typography variant=\"h4\" gutterBottom className={classes.heading}>\n          {currentView === 'login' ? 'Login' : 'Register'}\n        </Typography>\n        <TextField className={classes.input} label=\"Login\" value={values.login} onChange={handleChange('login')} variant=\"outlined\" fullWidth />\n        <TextField className={classes.input} label=\"Password\" type=\"password\" value={values.password} onChange={handleChange('password')} variant=\"outlined\" fullWidth />\n\n        {currentView === 'login' ? (\n          <React.Fragment>\n            <Button className={classes.input} fullWidth variant=\"contained\" color=\"primary\" onClick={login}>\n              Go\n              <Icon>send</Icon>\n            </Button>\n            <Button className={classes.input} fullWidth variant=\"contained\" color=\"default\" onClick={() => setCurrentView('register')}>\n              register\n              <Icon>pan_tool</Icon>\n            </Button>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Button className={classes.input} fullWidth variant=\"contained\" color=\"primary\" onClick={register}>\n              Create\n              <Icon>send</Icon>\n            </Button>\n\n            <Button className={classes.input} fullWidth variant=\"contained\" color=\"default\" onClick={() => setCurrentView('login')}>\n              <Icon>arrow_back</Icon>\n              back\n            </Button>\n          </React.Fragment>\n        )}\n      </Card>\n    </Container>\n  );\n}\n","import React from 'react';\nimport Login from './components/Login';\n\nexport default function NotAuthed(props) {\n  return <Login logInFn={props.logInFn} registerFn={props.registerFn} />;\n}\n","import React from 'react';\nimport Axios from 'axios';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Error from './components/Error';\nimport App from './App';\nimport NotAuthed from './NotAuthed';\n\nexport default class Main extends React.Component {\n  state = {\n    loading: true,\n    auth: null,\n    user: null,\n    errorMessage: '',\n    errorVisible: false\n  };\n\n  async componentWillMount() {\n    const sessionJSON = localStorage.getItem('session');\n\n    if (!sessionJSON) {\n      this.setState({ auth: false, loading: false });\n    } else {\n      const { token } = JSON.parse(sessionJSON);\n      const authStatus = await this.checkToken(token);\n\n      this.setState({ auth: authStatus, loading: false });\n    }\n  }\n\n  checkToken = async token => {\n    const { data } = await Axios.post(`${process.env.REACT_APP_API_ROOT}/check_token`, {\n      token\n    });\n    const { auth, userLogin } = data;\n    this.setState({ user: userLogin });\n    return auth;\n  };\n\n  saveToken = token => {\n    localStorage.setItem(\n      'session',\n      JSON.stringify({\n        token\n      })\n    );\n  };\n\n  deleteToken = () => {\n    localStorage.removeItem('session');\n  };\n\n  logIn = async (login, password) => {\n    try {\n      const { data } = await Axios.post(`${process.env.REACT_APP_API_ROOT}/login`, { login, password });\n      const { login: userLogin, token, message } = data;\n\n      if (!userLogin || !token) {\n        throw message;\n      }\n\n      this.setState({ user: userLogin, auth: true });\n      this.saveToken(token);\n    } catch (error) {\n      this.setState({ errorMessage: error, errorVisible: true });\n    }\n  };\n\n  logOut = () => {\n    this.deleteToken();\n    this.setState({\n      auth: false,\n      user: null\n    });\n  };\n\n  register = async (login, password) => {\n    try {\n      const { data } = await Axios.post(`${process.env.REACT_APP_API_ROOT}/register`, { login, password });\n      const { message } = data;\n\n      if (message !== 'OK') {\n        throw message;\n      }\n\n      return true;\n    } catch (error) {\n      this.setState({ errorMessage: error, errorVisible: true });\n    }\n  };\n\n  closeError = () => {\n    this.setState({ errorMessage: '', errorVisible: false });\n  };\n\n  render() {\n    const { auth, loading, errorMessage, errorVisible, user } = this.state;\n    return (\n      <React.Fragment>\n        <Error message={errorMessage} errorVisible={errorVisible} closeError={this.closeError} />\n        {loading ? <CircularProgress /> : auth ? <App username={user} logOutFn={this.logOut} /> : <NotAuthed registerFn={this.register} logInFn={this.logIn} />}\n      </React.Fragment>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Main from './Main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Main />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}